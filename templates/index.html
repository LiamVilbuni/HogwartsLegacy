<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hogwarts Legacy - Home</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <header>
        <div class="brand" onclick="window.location.href='/'">Hogwarts Legacy</div>
        <div class="nav-actions">
            <button id="auth-btn" onclick="window.location.href='/auth/login'" style="display: {{'none' if user_logged_in else 'block'}}">Login</button>
            <div id="user-avatar" class="avatar" title="Click to Logout" onclick="window.location.href='/auth/logout'" style="display: {{'block' if user_logged_in else 'none'}}">
                <img src="{{user_avatar}}" alt="User Avatar">
            </div>
        </div>
    </header>

    <main id="app">
    </main>

    <div id="toast">Message here</div>
    <script>
      const houses = [
        { id: 'gryffindor', name: 'Gryffindor', color: '#740001', accent: '#d3a625', desc: 'Bravery, daring, nerve, and chivalry.', icon: 'ðŸ¦' },
        { id: 'slytherin', name: 'Slytherin', color: '#1a472a', accent: '#aaaaaa', desc: 'Ambition, cunning, leadership, and resourcefulness.', icon: 'ðŸ' },
        { id: 'ravenclaw', name: 'Ravenclaw', color: '#0e1a40', accent: '#946b2d', desc: 'Intelligence, wisdom, creativity, and wit.', icon: 'ðŸ¦…' },
        { id: 'hufflepuff', name: 'Hufflepuff', color: '#ecb939', accent: '#372e29', desc: 'Hard work, patience, justice, and loyalty.', icon: 'ðŸ¦¡' }
      ];

      const container = document.getElementById('app');
      let housesHtml = houses.map(h => `
          <div class="house-card house-${h.id}">
              <span class="house-icon">${h.icon}</span>
              <h2>${h.name}</h2>
              <p style="color:#aaa; margin-top:0.5rem">${h.desc}</p>
          </div>
      `).join('');

      container.innerHTML = `
          <section style="text-align:center; padding: 4rem 0;">
              <h1 style="font-size: 3rem; color: var(--accent-gold);">The Sorting Hat Awaits</h1>
              <p style="max-width: 600px; margin: 1rem auto; line-height: 1.6;">
                  Discover your true house or analyze your group dynamics with our advanced Digital Sorting Hat. 
                  Upload your chat logs to see where everyone belongs.
              </p>
              <button class="btn" onclick="window.location.href='/chats'">Start Sorting</button>
          </section>
          <section class="houses-grid">${housesHtml}</section>
      `;
    </script>
</body>
</html>